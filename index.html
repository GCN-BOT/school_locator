<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Schools</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.5/dist/leaflet-routing-machine.js"></script>
    <style>
        #map { height: 500px; margin-bottom: 20px; }
        #school-table { width: 100%; border-collapse: collapse; }
        #school-table th, #school-table td { border: 1px solid #ddd; padding: 8px; }
        #school-table th { background-color: #f4f4f4; text-align: left; }
        #search-box { margin-bottom: 10px; width: 300px; padding: 8px; }

    .leaflet-popup-content, .leaflet-routing-alternatives-container {
        background-color: white !important;
        color: black;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }

    .leaflet-popup-content-wrapper {
        background-color: white !important;
    }
    </style>
</head>
<body>
    <h2>Find Schools Within 5 km</h2>
    <input type="text" id="search-box" placeholder="Search for a place..." />
    <div id="map"></div>
    <table id="school-table">
        <thead>
            <tr>
                <th>School Name</th>
                <th>Latitude</th>
                <th>Longitude</th>
                <th>Distance</th>
                <th>Contact Details</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <script>
        const _0x26523d=_0x12bf;(function(_0x42edf4,_0x39178d){const _0x30f0df=_0x12bf,_0x937420=_0x42edf4();while(!![]){try{const _0x2239b4=-parseInt(_0x30f0df(0x201))/0x1+-parseInt(_0x30f0df(0x1eb))/0x2+-parseInt(_0x30f0df(0x20e))/0x3*(-parseInt(_0x30f0df(0x1fd))/0x4)+parseInt(_0x30f0df(0x212))/0x5+parseInt(_0x30f0df(0x21f))/0x6+-parseInt(_0x30f0df(0x1e1))/0x7*(-parseInt(_0x30f0df(0x21a))/0x8)+-parseInt(_0x30f0df(0x20b))/0x9;if(_0x2239b4===_0x39178d)break;else _0x937420['push'](_0x937420['shift']());}catch(_0x150bff){_0x937420['push'](_0x937420['shift']());}}}(_0x2282,0xad25e));const map=L[_0x26523d(0x208)](_0x26523d(0x208))[_0x26523d(0x1e8)]([14.5995,120.9842],0xd);L[_0x26523d(0x1f8)](_0x26523d(0x21e),{'maxZoom':0x13})['addTo'](map);let redMarker=null,redCircle=null,blueCircle=null,schoolMarkers=[],centerLatLon=null,routingControl=null;function getDistance(_0x611976,_0x3107c2,_0x2d8aed,_0x3da3cf){const _0xafc860=_0x26523d,_0x36b61d=L['latLng'](_0x611976,_0x3107c2),_0x263c9b=L[_0xafc860(0x214)](_0x2d8aed,_0x3da3cf);return _0x36b61d['distanceTo'](_0x263c9b);}function _0x12bf(_0x10916e,_0x545836){const _0x228253=_0x2282();return _0x12bf=function(_0x12bf81,_0x52c58f){_0x12bf81=_0x12bf81-0x1df;let _0x25e744=_0x228253[_0x12bf81];return _0x25e744;},_0x12bf(_0x10916e,_0x545836);}function _0x2282(){const _0x239891=['lng','#school-table\x20tbody\x20tr','136132hNlEcq','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Phone:</strong>\x20','contact:email','406035jCtTNh','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Website:</strong>\x20<a\x20href=\x22','<strong>Search\x20Result</strong><br>','center','circle','Secondary','openPopup','map','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Website:</strong>\x20<a\x20href=\x22','lat','18725328oEFGYQ','append','length','21bDjFWA','Unnamed\x20School','forEach','empty','6398935ZRAdHZ','json','latLng','Location\x20not\x20found.\x20Please\x20try\x20a\x20different\x20query.','website','#map','marker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-index=\x22','7221128BtRiAk','removeLayer','https://nominatim.openstreetmap.org/search?format=json&q=','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Distance:</strong>\x20','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','6214320GvEkmK','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[out:json];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20node[\x22amenity\x22=\x22school\x22](around:7000,','Not\x20available','getLatLng','focus','&destination=','elements','click','Routing','red','https://maps.google.com/mapfiles/ms/icons/blue-dot.png','7kGBQvS','data','\x22\x20target=\x22_blank\x22>','\x20meters\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lon','addTo','toFixed','setView','distance','push','521076oGzqJZ','icon','contact:phone','control','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://www.google.com/maps/dir/?api=1&origin=','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Email:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','name','removeControl','Primary',');\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20out\x20center;','tags','bindPopup','tileLayer','#school-table\x20tbody','blue'];_0x2282=function(){return _0x239891;};return _0x2282();}function displaySchools(_0x24fd87){const _0x149b5d=_0x26523d;if(!centerLatLon)return;schoolMarkers[_0x149b5d(0x210)](_0x454dd2=>map[_0x149b5d(0x21b)](_0x454dd2)),schoolMarkers=[],$(_0x149b5d(0x1f9))[_0x149b5d(0x211)](),_0x24fd87[_0x149b5d(0x210)](_0x43f9f3=>{const _0x373670=_0x149b5d,_0x44b6a8=_0x43f9f3[_0x373670(0x20a)]||_0x43f9f3[_0x373670(0x204)]['lat'],_0x4cd304=_0x43f9f3[_0x373670(0x1e5)]||_0x43f9f3[_0x373670(0x204)][_0x373670(0x1e5)];_0x43f9f3[_0x373670(0x1e9)]=getDistance(centerLatLon[_0x373670(0x20a)],centerLatLon[_0x373670(0x1fb)],_0x44b6a8,_0x4cd304);}),_0x24fd87['sort']((_0x249665,_0x314efd)=>_0x249665[_0x149b5d(0x1e9)]-_0x314efd[_0x149b5d(0x1e9)]),_0x24fd87[_0x149b5d(0x210)]((_0x308521,_0x4b882b)=>{const _0x19b1ca=_0x149b5d,_0x1181c9=_0x308521[_0x19b1ca(0x20a)]||_0x308521[_0x19b1ca(0x204)][_0x19b1ca(0x20a)],_0x39d087=_0x308521[_0x19b1ca(0x1e5)]||_0x308521[_0x19b1ca(0x204)]['lon'],_0x13d1c2=_0x308521[_0x19b1ca(0x1f6)][_0x19b1ca(0x1f2)]||_0x19b1ca(0x20f),_0x3eafb5=_0x308521[_0x19b1ca(0x1f6)][_0x19b1ca(0x1ed)]||_0x19b1ca(0x221),_0x105701=_0x308521[_0x19b1ca(0x1f6)][_0x19b1ca(0x200)]||_0x19b1ca(0x221),_0x14ad51=_0x308521['tags']['contact:website']||_0x308521[_0x19b1ca(0x1f6)][_0x19b1ca(0x216)]||_0x19b1ca(0x221),_0x307515=L[_0x19b1ca(0x218)]([_0x1181c9,_0x39d087],{'icon':L[_0x19b1ca(0x1ec)]({'iconUrl':_0x19b1ca(0x1e0),'iconSize':[0x19,0x29],'iconAnchor':[0xc,0x29]})})[_0x19b1ca(0x1e6)](map)[_0x19b1ca(0x1f7)](_0x19b1ca(0x1f1)+_0x13d1c2+_0x19b1ca(0x1ff)+_0x3eafb5+_0x19b1ca(0x1f0)+_0x105701+_0x19b1ca(0x202)+_0x14ad51+_0x19b1ca(0x1e3)+_0x14ad51+_0x19b1ca(0x21d)+_0x308521[_0x19b1ca(0x1e9)]['toFixed'](0x2)+_0x19b1ca(0x1e4));schoolMarkers[_0x19b1ca(0x1ea)](_0x307515),$('#school-table\x20tbody')[_0x19b1ca(0x20c)](_0x19b1ca(0x219)+_0x4b882b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x13d1c2+_0x19b1ca(0x1ef)+centerLatLon[_0x19b1ca(0x20a)]+','+centerLatLon[_0x19b1ca(0x1fb)]+_0x19b1ca(0x224)+_0x1181c9+','+_0x39d087+'\x22\x20target=\x22_blank\x22\x20style=\x22text-decoration:\x20none;\x22>View\x20on\x20Maps</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1181c9['toFixed'](0x6)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x39d087[_0x19b1ca(0x1e7)](0x6)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x308521[_0x19b1ca(0x1e9)][_0x19b1ca(0x1e7)](0x2)+'\x20meters\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20align=\x27center\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x308521[_0x19b1ca(0x1e9)][_0x19b1ca(0x1e7)](0x2)<0x1389?_0x19b1ca(0x1f4):_0x19b1ca(0x206))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Phone:</strong>\x20'+_0x3eafb5+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Email:</strong>\x20'+_0x105701+_0x19b1ca(0x209)+_0x14ad51+'\x22\x20target=\x22_blank\x22>'+_0x14ad51+_0x19b1ca(0x1fe));}),$(_0x149b5d(0x1fc))['on'](_0x149b5d(0x226),function(){const _0x320a98=_0x149b5d,_0x5e792e=$(this)[_0x320a98(0x1e2)]('index'),_0xafb76b=schoolMarkers[_0x5e792e];map['setView'](_0xafb76b[_0x320a98(0x222)](),0xf),_0xafb76b[_0x320a98(0x207)](),routingControl&&map[_0x320a98(0x1f3)](routingControl),redMarker&&(routingControl=L[_0x320a98(0x227)][_0x320a98(0x1ee)]({'waypoints':[redMarker[_0x320a98(0x222)](),_0xafb76b['getLatLng']()],'createMarker':function(){return null;},'routeWhileDragging':!![],'lineOptions':{'styles':[{'color':_0x320a98(0x1fa),'opacity':0.7,'weight':0xa}]}})[_0x320a98(0x1e6)](map)),$(_0x320a98(0x217))[_0x320a98(0x223)]();});}async function fetchSchools(_0x496f9e,_0x280c97){const _0x1b9366=_0x26523d,_0x54956e=_0x1b9366(0x220)+_0x496f9e+','+_0x280c97+');\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20way[\x22amenity\x22=\x22school\x22](around:7000,'+_0x496f9e+','+_0x280c97+_0x1b9366(0x1f5),_0x25dd45='https://overpass-api.de/api/interpreter?data='+encodeURIComponent(_0x54956e),_0x40e011=await fetch(_0x25dd45),_0xa0dd9f=await _0x40e011[_0x1b9366(0x213)]();return _0xa0dd9f[_0x1b9366(0x225)];}$('#search-box')['on']('change',async function(){const _0x3be993=_0x26523d,_0x210495=$(this)['val'](),_0x54dc12=_0x3be993(0x21c)+encodeURIComponent(_0x210495),_0x36632c=await fetch(_0x54dc12),_0x433e2a=await _0x36632c[_0x3be993(0x213)]();if(_0x433e2a[_0x3be993(0x20d)]>0x0){const {lat:_0x20d67d,lon:_0x441d9a,display_name:_0x4ceb4e}=_0x433e2a[0x0];if(redMarker)map[_0x3be993(0x21b)](redMarker);redMarker=L['marker']([_0x20d67d,_0x441d9a],{'icon':L['icon']({'iconUrl':'https://maps.google.com/mapfiles/ms/icons/red-dot.png','iconSize':[0x19,0x29],'iconAnchor':[0xc,0x29]})})[_0x3be993(0x1e6)](map)[_0x3be993(0x1f7)](_0x3be993(0x203)+_0x4ceb4e)[_0x3be993(0x207)]();if(redCircle)map[_0x3be993(0x21b)](redCircle);redCircle=L[_0x3be993(0x205)]([_0x20d67d,_0x441d9a],{'color':_0x3be993(0x1df),'fillColor':'#f03','fillOpacity':0.2,'radius':0x1388})[_0x3be993(0x1e6)](map);if(blueCircle)map['removeLayer'](blueCircle);blueCircle=L[_0x3be993(0x205)]([_0x20d67d,_0x441d9a],{'color':'blue','fillColor':'#00ffcc','fillOpacity':0.2,'radius':0x1b58})[_0x3be993(0x1e6)](map),map[_0x3be993(0x1e8)]([_0x20d67d,_0x441d9a],0xe),centerLatLon={'lat':_0x20d67d,'lng':_0x441d9a};const _0x4a43d5=await fetchSchools(_0x20d67d,_0x441d9a);displaySchools(_0x4a43d5);}else alert(_0x3be993(0x215));});
    </script>
</body>
</html>
